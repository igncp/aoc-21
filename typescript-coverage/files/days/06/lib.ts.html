
  <!DOCTYPE html>
  <html>
    <head>
      <title>lib.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">days/06/lib.ts</td><td class="">100.00%</td><td class="">99%</td><td class="">109</td><td class="">109</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">const DAYS_CYCLE_OLD_LANTERNFISH = 7
const DAYS_CYCLE_NEW_LANTERNFISH = 9

const maxDays = Math.max(DAYS_CYCLE_NEW_LANTERNFISH, DAYS_CYCLE_OLD_LANTERNFISH)

class LanternfishPopulation {
  private readonly orderedState: number[]

  // Array of &#x27;maxDays&#x27; number of items. The index is the number of days left.
  // The items are rotated to the left each day, and the items in 0 are moved
  // to the DAYS_CYCLE_OLD_LANTERNFISH day plus to the
  // DAYS_CYCLE_NEW_LANTERNFISH day
  private readonly unorderedState: number[]

  public constructor(initialState: string) {
    this.orderedState = initialState
      .split(&quot;,&quot;)
      .filter((v) =&gt; !!v)
      .map(Number)

    this.unorderedState = this.orderedState.reduce(
      (...[acc, daysRemaining]) =&gt; {
        acc[daysRemaining] += 1

        return acc
      },
      Array.from({
        length: maxDays,
      }).map(() =&gt; 0)
    )
  }

  public getStateAfter(days: number) {
    Array.from({ length: days }).forEach(() =&gt; {
      const newLanternfish: number[] = []

      this.orderedState.forEach((...[, stateIndex]) =&gt; {
        this.orderedState[stateIndex] -= 1

        if (this.orderedState[stateIndex] &lt; 0) {
          newLanternfish.push(8)
          this.orderedState[stateIndex] = 6
        }
      })

      this.orderedState.push(...newLanternfish)
    })

    return this.orderedState.join(&quot;,&quot;)
  }

  public getTotalAfter(days: number) {
    Array.from({ length: days }).forEach(() =&gt; {
      const newUnorderedState: number[] = []

      this.unorderedState.forEach((...[, stateOppositeIndex]) =&gt; {
        const daysIndex = maxDays - stateOppositeIndex - 1

        newUnorderedState[daysIndex] = this.unorderedState[daysIndex + 1] || 0
      })
      ;[DAYS_CYCLE_NEW_LANTERNFISH, DAYS_CYCLE_OLD_LANTERNFISH].forEach(
        (cycleDays) =&gt; {
          newUnorderedState[cycleDays - 1] += this.unorderedState[0]
        }
      )

      newUnorderedState.forEach((...[daysValue, daysIndex]) =&gt; {
        this.unorderedState[daysIndex] = daysValue
      })
    })

    return this.unorderedState.reduce((...[acc, lanternfishNum]) =&gt; {
      return acc + lanternfishNum
    }, 0)
  }
}

export { LanternfishPopulation }
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Fri, 07 Jan 2022 00:17:55 GMT</p>
    </body>
  </html>
  